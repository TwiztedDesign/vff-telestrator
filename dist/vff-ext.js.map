{"version":3,"sources":["webpack:///webpack/bootstrap 60f2cab900ccbf17c271","webpack:///./src/index.js","webpack:///./src/telestrator.js","webpack:///./src/signature_pad.js","webpack:///./src/tinycolor.js"],"names":["window","vff","define","Telestrator","SignaturePad","require","tinycolor","canvas","document","createElement","style","width","height","velocityMagnitude","appendChild","signaturePad","penColor","color","minWidth","size","maxWidth","self","addEventListener","resizeCanvas","on","e","stopPropagation","clearInterval","canvasDrawTimeout","ratio","Math","max","devicePixelRatio","offsetWidth","offsetHeight","ctx","getContext","scale","clear","tc","alpha","getAlpha","opacity","_a","toString","data","toData","pop","fromData","Color","Size","c","getAttribute","_splitAlpha","value","setAttribute","parseFloat","HTMLElement","global","factory","exports","module","Point","x","y","time","Date","getTime","prototype","velocityFrom","start","distanceTo","sqrt","pow","equals","other","Bezier","startPoint","control1","control2","endPoint","length","steps","px","py","i","t","cx","_point","cy","xdiff","ydiff","c1","c2","end","throttle","func","wait","options","context","args","result","timeout","previous","later","leading","now","apply","remaining","arguments","clearTimeout","trailing","setTimeout","opts","velocityFilterWeight","minDistance","_strokeMoveUpdate","_strokeUpdate","dotSize","backgroundColor","onBegin","onEnd","_canvas","_ctx","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_handleMouseUp","_strokeEnd","_handleTouchStart","targetTouches","touch","changedTouches","_handleTouchMove","preventDefault","_handleTouchEnd","wasCanvasTouched","target","fillStyle","clearRect","fillRect","_data","_reset","_isEmpty","fromDataURL","dataUrl","_this","undefined","image","Image","src","onload","drawImage","toDataURL","type","_toSVG","_len","Array","_key","concat","_handleMouseEvents","_handleTouchEvents","off","removeEventListener","isEmpty","push","clientX","clientY","point","_createPoint","lastPointGroup","lastPoint","isLastPointTooClose","_addPoint","curve","widths","_drawCurve","canDrawCurve","points","_drawDot","msTouchAction","touchAction","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","tmp","unshift","_calculateCurveControlPoints","c3","_calculateCurveWidths","shift","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","velocity","newWidth","_strokeWidth","_drawPoint","moveTo","arc","PI","startWidth","endWidth","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","closePath","fill","_fromData","pointGroups","drawCurve","drawDot","group","j","rawPoint","_addPoint2","_rawPoint","_this2","minX","minY","maxX","maxY","svg","createElementNS","setAttributeNS","path","isNaN","attr","toFixed","circle","prefix","header","body","innerHTML","dummy","nodes","childNodes","cloneNode","footer","btoa","_this3","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","min","mathMax","mathRandom","random","rgb","inputToRGB","_originalInput","_r","r","_g","g","_b","b","a","_roundA","_format","format","_gradientType","gradientType","_ok","ok","_tc_id","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","R","G","B","setAlpha","boundAlpha","toHsv","hsv","rgbToHsv","h","s","v","toHsvString","toHsl","hsl","rgbToHsl","l","toHslString","toHex","allow3Char","rgbToHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","bound01","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","rgbaToArgbHex","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","clone","_applyModification","fn","slice","call","lighten","brighten","darken","desaturate","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","hasOwnProperty","convertToPercentage","stringInputToObject","isValidCSSUnit","rgbToRgb","String","substr","hsvToRgb","hslToRgb","d","hue2rgb","p","q","f","mod","hex","pad2","charAt","join","convertDecimalToHex","color1","color2","amount","clamp01","hue","results","slices","part","ret","modification","mix","rgb1","rgb2","rgba","readability","isReadable","wcag2","wcag2Parms","out","validateWCAG2Parms","level","mostReadable","baseColor","colorList","bestColor","bestScore","includeFallbackColors","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flip","o","flipped","n","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","parseIntFromHex","indexOf","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","hsla","hsva","hex3","hex6","hex4","hex8","exec","replace","toLowerCase","named","match","parms","toUpperCase"],"mappings":"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","file":"vff-ext.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 60f2cab900ccbf17c271","import Telestrator from './telestrator';\n\n/********* To define new vff element ******************/\nwindow.vff.define('vff-telestrator', Telestrator);\n\n/********* To extend vff with new functions ***********/\n// window.vff.extend(api-name, object with functions);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const SignaturePad = require('./signature_pad');\nconst tinycolor = require('./tinycolor');\n\nexport default class Telestrator extends HTMLElement {\n    constructor() {\n        super();\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.style.width = '100%';\n        this.canvas.style.height = '100%';\n\n        this.velocityMagnitude = 0.5;\n    }\n\n    connectedCallback() {\n\n        this.appendChild(this.canvas);\n        this.signaturePad = new SignaturePad(this.canvas);\n        this.signaturePad.penColor = this.color;\n        this.signaturePad.minWidth = this.size - (this.size * this.velocityMagnitude);\n        this.signaturePad.maxWidth = this.size + (this.size * this.velocityMagnitude);\n\n\n\n        let self = this;\n        window.addEventListener(\"resize\", function(){self.resizeCanvas();});\n        this.resizeCanvas();\n        this.on();\n\n        this.canvas.addEventListener('mousemove', function(e){e.stopPropagation();}, false);\n        // this.canvas.addEventListener('mouseup', function(e){e.stopPropagation();}, false);\n        this.canvas.addEventListener('mousedown', function(e){e.stopPropagation();}, false);\n\n\n        // document.body.addEventListener('mousedown', function(){console.log('mousedown');});\n        // document.body.addEventListener('mouseup', function(){console.log('mouseup');});\n        // document.body.addEventListener('mousemove', function(){console.log('mousemove');});\n    }\n\n    disconnectedCallback() {\n        clearInterval(this.canvasDrawTimeout);\n    }\n\n    static get observedAttributes() {\n        return [];\n    }\n\n    attributeChangedCallback() {\n\n    }\n\n    resizeCanvas() {\n        var ratio =  Math.max(window.devicePixelRatio || 1, 1);\n        this.canvas.width = this.canvas.offsetWidth * ratio;\n        this.canvas.height = this.canvas.offsetHeight * ratio;\n        var ctx = this.canvas.getContext(\"2d\");\n        ctx.scale(ratio, ratio);\n        this.signaturePad.clear(); // otherwise isEmpty() might return incorrect value\n    }\n\n    _splitAlpha(color){\n        let tc = tinycolor(color);\n        let alpha = tc.getAlpha();\n        if(alpha !== 1){\n            this.canvas.style.opacity = alpha;\n            tc._a = 1;\n        }\n        return tc.toString();\n    }\n\n    get color() {\n        let c = this.getAttribute(\"color\") || 'black';\n        return this._splitAlpha(c);\n    }\n\n    set color(value) {\n        this.setAttribute('color', value);\n        this.signaturePad.penColor = this._splitAlpha(value);\n\n    }\n    get size() {\n        return parseFloat(this.getAttribute(\"size\")) || 1.5;\n    }\n\n    set size(value) {\n        this.setAttribute('size', value);\n        this.signaturePad.minWidth = value - (value * this.velocityMagnitude);\n        this.signaturePad.maxWidth = value + (value * this.velocityMagnitude);\n    }\n\n    on(){\n        // this.signaturePad.on();\n        this.style['pointer-events'] = 'auto';\n\n    }\n\n    off(){\n        // this.signaturePad.off();\n        this.style['pointer-events'] = 'none';\n    }\n    clear(){\n        this.signaturePad.clear();\n    }\n    undo(){\n        var data = this.signaturePad.toData();\n        if (data) {\n            data.pop(); // remove the last dot or line\n            this.signaturePad.fromData(data);\n        }\n    }\n\n    expose(){\n        return {\n            Color   : 'color',\n            Size    : 'size'\n        };\n    }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/telestrator.js","/*!\n * Signature Pad v2.3.2\n * https://github.com/szimek/signature_pad\n *\n * Copyright 2017 Szymon Nowak\n * Released under the MIT license\n *\n * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bzier curves is taken from:\n * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript\n *\n * Algorithm for approximated length of a Bzier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n *\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.SignaturePad = factory());\n}(this, (function () { 'use strict';\n\nfunction Point(x, y, time) {\n  this.x = x;\n  this.y = y;\n  this.time = time || new Date().getTime();\n}\n\nPoint.prototype.velocityFrom = function (start) {\n  return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 1;\n};\n\nPoint.prototype.distanceTo = function (start) {\n  return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n};\n\nPoint.prototype.equals = function (other) {\n  return this.x === other.x && this.y === other.y && this.time === other.time;\n};\n\nfunction Bezier(startPoint, control1, control2, endPoint) {\n  this.startPoint = startPoint;\n  this.control1 = control1;\n  this.control2 = control2;\n  this.endPoint = endPoint;\n}\n\n// Returns approximated length.\nBezier.prototype.length = function () {\n  var steps = 10;\n  var length = 0;\n  var px = void 0;\n  var py = void 0;\n\n  for (var i = 0; i <= steps; i += 1) {\n    var t = i / steps;\n    var cx = this._point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n    var cy = this._point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n    if (i > 0) {\n      var xdiff = cx - px;\n      var ydiff = cy - py;\n      length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n    }\n    px = cx;\n    py = cy;\n  }\n\n  return length;\n};\n\n/* eslint-disable no-multi-spaces, space-in-parens */\nBezier.prototype._point = function (t, start, c1, c2, end) {\n  return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n};\n\n/* eslint-disable */\n\n// http://stackoverflow.com/a/27078401/815507\nfunction throttle(func, wait, options) {\n  var context, args, result;\n  var timeout = null;\n  var previous = 0;\n  if (!options) options = {};\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function () {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nfunction SignaturePad(canvas, options) {\n  var self = this;\n  var opts = options || {};\n\n  this.velocityFilterWeight = opts.velocityFilterWeight || 0.7;\n  this.minWidth = opts.minWidth || 0.5;\n  this.maxWidth = opts.maxWidth || 2.5;\n  this.throttle = 'throttle' in opts ? opts.throttle : 16; // in miliseconds\n  this.minDistance = 'minDistance' in opts ? opts.minDistance : 5;\n\n  if (this.throttle) {\n    this._strokeMoveUpdate = throttle(SignaturePad.prototype._strokeUpdate, this.throttle);\n  } else {\n    this._strokeMoveUpdate = SignaturePad.prototype._strokeUpdate;\n  }\n\n  this.dotSize = opts.dotSize || function () {\n    return (this.minWidth + this.maxWidth) / 2;\n  };\n  this.penColor = opts.penColor || 'black';\n  this.backgroundColor = opts.backgroundColor || 'rgba(0,0,0,0)';\n  this.onBegin = opts.onBegin;\n  this.onEnd = opts.onEnd;\n\n  this._canvas = canvas;\n  this._ctx = canvas.getContext('2d');\n  this.clear();\n\n  // We need add these inline so they are available to unbind while still having\n  // access to 'self' we could use _.bind but it's not worth adding a dependency.\n  this._handleMouseDown = function (event) {\n    if (event.which === 1) {\n      self._mouseButtonDown = true;\n      self._strokeBegin(event);\n    }\n  };\n\n  this._handleMouseMove = function (event) {\n    if (self._mouseButtonDown) {\n      self._strokeMoveUpdate(event);\n    }\n  };\n\n  this._handleMouseUp = function (event) {\n    if (event.which === 1 && self._mouseButtonDown) {\n      self._mouseButtonDown = false;\n      self._strokeEnd(event);\n    }\n  };\n\n  this._handleTouchStart = function (event) {\n    if (event.targetTouches.length === 1) {\n      var touch = event.changedTouches[0];\n      self._strokeBegin(touch);\n    }\n  };\n\n  this._handleTouchMove = function (event) {\n    // Prevent scrolling.\n    event.preventDefault();\n\n    var touch = event.targetTouches[0];\n    self._strokeMoveUpdate(touch);\n  };\n\n  this._handleTouchEnd = function (event) {\n    var wasCanvasTouched = event.target === self._canvas;\n    if (wasCanvasTouched) {\n      event.preventDefault();\n      self._strokeEnd(event);\n    }\n  };\n\n  // Enable mouse and touch event handlers\n  this.on();\n}\n\n// Public methods\nSignaturePad.prototype.clear = function () {\n  var ctx = this._ctx;\n  var canvas = this._canvas;\n\n  ctx.fillStyle = this.backgroundColor;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  this._data = [];\n  this._reset();\n  this._isEmpty = true;\n};\n\nSignaturePad.prototype.fromDataURL = function (dataUrl) {\n  var _this = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var image = new Image();\n  var ratio = options.ratio || window.devicePixelRatio || 1;\n  var width = options.width || this._canvas.width / ratio;\n  var height = options.height || this._canvas.height / ratio;\n\n  this._reset();\n  image.src = dataUrl;\n  image.onload = function () {\n    _this._ctx.drawImage(image, 0, 0, width, height);\n  };\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype.toDataURL = function (type) {\n  var _canvas;\n\n  switch (type) {\n    case 'image/svg+xml':\n      return this._toSVG();\n    default:\n      for (var _len = arguments.length, options = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        options[_key - 1] = arguments[_key];\n      }\n\n      return (_canvas = this._canvas).toDataURL.apply(_canvas, [type].concat(options));\n  }\n};\n\nSignaturePad.prototype.on = function () {\n  this._handleMouseEvents();\n  this._handleTouchEvents();\n};\n\nSignaturePad.prototype.off = function () {\n  this._canvas.removeEventListener('mousedown', this._handleMouseDown);\n  this._canvas.removeEventListener('mousemove', this._handleMouseMove);\n  document.removeEventListener('mouseup', this._handleMouseUp);\n\n  this._canvas.removeEventListener('touchstart', this._handleTouchStart);\n  this._canvas.removeEventListener('touchmove', this._handleTouchMove);\n  this._canvas.removeEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype.isEmpty = function () {\n  return this._isEmpty;\n};\n\n// Private methods\nSignaturePad.prototype._strokeBegin = function (event) {\n  this._data.push([]);\n  this._reset();\n  this._strokeUpdate(event);\n\n  if (typeof this.onBegin === 'function') {\n    this.onBegin(event);\n  }\n};\n\nSignaturePad.prototype._strokeUpdate = function (event) {\n  var x = event.clientX;\n  var y = event.clientY;\n\n  var point = this._createPoint(x, y);\n  var lastPointGroup = this._data[this._data.length - 1];\n  var lastPoint = lastPointGroup && lastPointGroup[lastPointGroup.length - 1];\n  var isLastPointTooClose = lastPoint && point.distanceTo(lastPoint) < this.minDistance;\n\n  // Skip this point if it's too close to the previous one\n  if (!(lastPoint && isLastPointTooClose)) {\n    var _addPoint = this._addPoint(point),\n        curve = _addPoint.curve,\n        widths = _addPoint.widths;\n\n    if (curve && widths) {\n      this._drawCurve(curve, widths.start, widths.end);\n    }\n\n    this._data[this._data.length - 1].push({\n      x: point.x,\n      y: point.y,\n      time: point.time,\n      color: this.penColor\n    });\n  }\n};\n\nSignaturePad.prototype._strokeEnd = function (event) {\n  var canDrawCurve = this.points.length > 2;\n  var point = this.points[0]; // Point instance\n\n  if (!canDrawCurve && point) {\n    this._drawDot(point);\n  }\n\n  if (point) {\n    var lastPointGroup = this._data[this._data.length - 1];\n    var lastPoint = lastPointGroup[lastPointGroup.length - 1]; // plain object\n\n    // When drawing a dot, there's only one point in a group, so without this check\n    // such group would end up with exactly the same 2 points.\n    if (!point.equals(lastPoint)) {\n      lastPointGroup.push({\n        x: point.x,\n        y: point.y,\n        time: point.time,\n        color: this.penColor\n      });\n    }\n  }\n\n  if (typeof this.onEnd === 'function') {\n    this.onEnd(event);\n  }\n};\n\nSignaturePad.prototype._handleMouseEvents = function () {\n  this._mouseButtonDown = false;\n\n  this._canvas.addEventListener('mousedown', this._handleMouseDown);\n  this._canvas.addEventListener('mousemove', this._handleMouseMove);\n  document.addEventListener('mouseup', this._handleMouseUp);\n};\n\nSignaturePad.prototype._handleTouchEvents = function () {\n  // Pass touch events to canvas element on mobile IE11 and Edge.\n  this._canvas.style.msTouchAction = 'none';\n  this._canvas.style.touchAction = 'none';\n\n  this._canvas.addEventListener('touchstart', this._handleTouchStart);\n  this._canvas.addEventListener('touchmove', this._handleTouchMove);\n  this._canvas.addEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype._reset = function () {\n  this.points = [];\n  this._lastVelocity = 0;\n  this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n  this._ctx.fillStyle = this.penColor;\n};\n\nSignaturePad.prototype._createPoint = function (x, y, time) {\n  var rect = this._canvas.getBoundingClientRect();\n\n  return new Point(x - rect.left, y - rect.top, time || new Date().getTime());\n};\n\nSignaturePad.prototype._addPoint = function (point) {\n  var points = this.points;\n  var tmp = void 0;\n\n  points.push(point);\n\n  if (points.length > 2) {\n    // To reduce the initial lag make it work with 3 points\n    // by copying the first point to the beginning.\n    if (points.length === 3) points.unshift(points[0]);\n\n    tmp = this._calculateCurveControlPoints(points[0], points[1], points[2]);\n    var c2 = tmp.c2;\n    tmp = this._calculateCurveControlPoints(points[1], points[2], points[3]);\n    var c3 = tmp.c1;\n    var curve = new Bezier(points[1], c2, c3, points[2]);\n    var widths = this._calculateCurveWidths(curve);\n\n    // Remove the first element from the list,\n    // so that we always have no more than 4 points in points array.\n    points.shift();\n\n    return { curve: curve, widths: widths };\n  }\n\n  return {};\n};\n\nSignaturePad.prototype._calculateCurveControlPoints = function (s1, s2, s3) {\n  var dx1 = s1.x - s2.x;\n  var dy1 = s1.y - s2.y;\n  var dx2 = s2.x - s3.x;\n  var dy2 = s2.y - s3.y;\n\n  var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n  var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n  var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n  var dxm = m1.x - m2.x;\n  var dym = m1.y - m2.y;\n\n  var k = l2 / (l1 + l2);\n  var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n  var tx = s2.x - cm.x;\n  var ty = s2.y - cm.y;\n\n  return {\n    c1: new Point(m1.x + tx, m1.y + ty),\n    c2: new Point(m2.x + tx, m2.y + ty)\n  };\n};\n\nSignaturePad.prototype._calculateCurveWidths = function (curve) {\n  var startPoint = curve.startPoint;\n  var endPoint = curve.endPoint;\n  var widths = { start: null, end: null };\n\n  var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n  var newWidth = this._strokeWidth(velocity);\n\n  widths.start = this._lastWidth;\n  widths.end = newWidth;\n\n  this._lastVelocity = velocity;\n  this._lastWidth = newWidth;\n\n  return widths;\n};\n\nSignaturePad.prototype._strokeWidth = function (velocity) {\n  return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n};\n\nSignaturePad.prototype._drawPoint = function (x, y, size) {\n  var ctx = this._ctx;\n\n  ctx.moveTo(x, y);\n  ctx.arc(x, y, size, 0, 2 * Math.PI, false);\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype._drawCurve = function (curve, startWidth, endWidth) {\n  var ctx = this._ctx;\n  var widthDelta = endWidth - startWidth;\n  var drawSteps = Math.floor(curve.length());\n\n  ctx.beginPath();\n\n  for (var i = 0; i < drawSteps; i += 1) {\n    // Calculate the Bezier (x, y) coordinate for this step.\n    var t = i / drawSteps;\n    var tt = t * t;\n    var ttt = tt * t;\n    var u = 1 - t;\n    var uu = u * u;\n    var uuu = uu * u;\n\n    var x = uuu * curve.startPoint.x;\n    x += 3 * uu * t * curve.control1.x;\n    x += 3 * u * tt * curve.control2.x;\n    x += ttt * curve.endPoint.x;\n\n    var y = uuu * curve.startPoint.y;\n    y += 3 * uu * t * curve.control1.y;\n    y += 3 * u * tt * curve.control2.y;\n    y += ttt * curve.endPoint.y;\n\n    var width = startWidth + ttt * widthDelta;\n    this._drawPoint(x, y, width);\n  }\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._drawDot = function (point) {\n  var ctx = this._ctx;\n  var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n\n  ctx.beginPath();\n  this._drawPoint(point.x, point.y, width);\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n  for (var i = 0; i < pointGroups.length; i += 1) {\n    var group = pointGroups[i];\n\n    if (group.length > 1) {\n      for (var j = 0; j < group.length; j += 1) {\n        var rawPoint = group[j];\n        var point = new Point(rawPoint.x, rawPoint.y, rawPoint.time);\n        var color = rawPoint.color;\n\n        if (j === 0) {\n          // First point in a group. Nothing to draw yet.\n\n          // All points in the group have the same color, so it's enough to set\n          // penColor just at the beginning.\n          this.penColor = color;\n          this._reset();\n\n          this._addPoint(point);\n        } else if (j !== group.length - 1) {\n          // Middle point in a group.\n          var _addPoint2 = this._addPoint(point),\n              curve = _addPoint2.curve,\n              widths = _addPoint2.widths;\n\n          if (curve && widths) {\n            drawCurve(curve, widths, color);\n          }\n        } else {\n          // Last point in a group. Do nothing.\n        }\n      }\n    } else {\n      this._reset();\n      var _rawPoint = group[0];\n      drawDot(_rawPoint);\n    }\n  }\n};\n\nSignaturePad.prototype._toSVG = function () {\n  var _this2 = this;\n\n  var pointGroups = this._data;\n  var canvas = this._canvas;\n  var ratio = Math.max(window.devicePixelRatio || 1, 1);\n  var minX = 0;\n  var minY = 0;\n  var maxX = canvas.width / ratio;\n  var maxY = canvas.height / ratio;\n  var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n  svg.setAttributeNS(null, 'width', canvas.width);\n  svg.setAttributeNS(null, 'height', canvas.height);\n\n  this._fromData(pointGroups, function (curve, widths, color) {\n    var path = document.createElement('path');\n\n    // Need to check curve for NaN values, these pop up when drawing\n    // lines on the canvas that are not continuous. E.g. Sharp corners\n    // or stopping mid-stroke and than continuing without lifting mouse.\n    if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n      var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n\n      path.setAttribute('d', attr);\n      path.setAttribute('stroke-width', (widths.end * 2.25).toFixed(3));\n      path.setAttribute('stroke', color);\n      path.setAttribute('fill', 'none');\n      path.setAttribute('stroke-linecap', 'round');\n\n      svg.appendChild(path);\n    }\n  }, function (rawPoint) {\n    var circle = document.createElement('circle');\n    var dotSize = typeof _this2.dotSize === 'function' ? _this2.dotSize() : _this2.dotSize;\n    circle.setAttribute('r', dotSize);\n    circle.setAttribute('cx', rawPoint.x);\n    circle.setAttribute('cy', rawPoint.y);\n    circle.setAttribute('fill', rawPoint.color);\n\n    svg.appendChild(circle);\n  });\n\n  var prefix = 'data:image/svg+xml;base64,';\n  var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n  var body = svg.innerHTML;\n\n  // IE hack for missing innerHTML property on SVGElement\n  if (body === undefined) {\n    var dummy = document.createElement('dummy');\n    var nodes = svg.childNodes;\n    dummy.innerHTML = '';\n\n    for (var i = 0; i < nodes.length; i += 1) {\n      dummy.appendChild(nodes[i].cloneNode(true));\n    }\n\n    body = dummy.innerHTML;\n  }\n\n  var footer = '</svg>';\n  var data = header + body + footer;\n\n  return prefix + btoa(data);\n};\n\nSignaturePad.prototype.fromData = function (pointGroups) {\n  var _this3 = this;\n\n  this.clear();\n\n  this._fromData(pointGroups, function (curve, widths) {\n    return _this3._drawCurve(curve, widths.start, widths.end);\n  }, function (rawPoint) {\n    return _this3._drawDot(rawPoint);\n  });\n\n  this._data = pointGroups;\n};\n\nSignaturePad.prototype.toData = function () {\n  return this._data;\n};\n\nreturn SignaturePad;\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./src/signature_pad.js","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\n    var trimLeft = /^\\s+/,\n        trimRight = /\\s+$/,\n        tinyCounter = 0,\n        mathRound = Math.round,\n        mathMin = Math.min,\n        mathMax = Math.max,\n        mathRandom = Math.random;\n\n    function tinycolor (color, opts) {\n\n        color = (color) ? color : '';\n        opts = opts || { };\n\n        // If input is already a tinycolor, return itself\n        if (color instanceof tinycolor) {\n            return color;\n        }\n        // If we are called as a function, call using new instead\n        if (!(this instanceof tinycolor)) {\n            return new tinycolor(color, opts);\n        }\n\n        var rgb = inputToRGB(color);\n        this._originalInput = color,\n            this._r = rgb.r,\n            this._g = rgb.g,\n            this._b = rgb.b,\n            this._a = rgb.a,\n            this._roundA = mathRound(100*this._a) / 100,\n            this._format = opts.format || rgb.format;\n        this._gradientType = opts.gradientType;\n\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this._r < 1) { this._r = mathRound(this._r); }\n        if (this._g < 1) { this._g = mathRound(this._g); }\n        if (this._b < 1) { this._b = mathRound(this._b); }\n\n        this._ok = rgb.ok;\n        this._tc_id = tinyCounter++;\n    }\n\n    tinycolor.prototype = {\n        isDark: function() {\n            return this.getBrightness() < 128;\n        },\n        isLight: function() {\n            return !this.isDark();\n        },\n        isValid: function() {\n            return this._ok;\n        },\n        getOriginalInput: function() {\n            return this._originalInput;\n        },\n        getFormat: function() {\n            return this._format;\n        },\n        getAlpha: function() {\n            return this._a;\n        },\n        getBrightness: function() {\n            //http://www.w3.org/TR/AERT#color-contrast\n            var rgb = this.toRgb();\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n        },\n        getLuminance: function() {\n            //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n            var rgb = this.toRgb();\n            var RsRGB, GsRGB, BsRGB, R, G, B;\n            RsRGB = rgb.r/255;\n            GsRGB = rgb.g/255;\n            BsRGB = rgb.b/255;\n\n            if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n            if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n            if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n            return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n        },\n        setAlpha: function(value) {\n            this._a = boundAlpha(value);\n            this._roundA = mathRound(100*this._a) / 100;\n            return this;\n        },\n        toHsv: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n        },\n        toHsvString: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n            return (this._a == 1) ?\n                \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n                \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n        },\n        toHsl: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n        },\n        toHslString: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n            return (this._a == 1) ?\n                \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n                \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n        },\n        toHex: function(allow3Char) {\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\n        },\n        toHexString: function(allow3Char) {\n            return '#' + this.toHex(allow3Char);\n        },\n        toHex8: function(allow4Char) {\n            return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n        },\n        toHex8String: function(allow4Char) {\n            return '#' + this.toHex8(allow4Char);\n        },\n        toRgb: function() {\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n        },\n        toRgbString: function() {\n            return (this._a == 1) ?\n                \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n                \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n        },\n        toPercentageRgb: function() {\n            return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n        },\n        toPercentageRgbString: function() {\n            return (this._a == 1) ?\n                \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n                \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n        },\n        toName: function() {\n            if (this._a === 0) {\n                return \"transparent\";\n            }\n\n            if (this._a < 1) {\n                return false;\n            }\n\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n        },\n        toFilter: function(secondColor) {\n            var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n            var secondHex8String = hex8String;\n            var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n            if (secondColor) {\n                var s = tinycolor(secondColor);\n                secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n            }\n\n            return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n        },\n        toString: function(format) {\n            var formatSet = !!format;\n            format = format || this._format;\n\n            var formattedString = false;\n            var hasAlpha = this._a < 1 && this._a >= 0;\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n            if (needsAlphaFormat) {\n                // Special case for \"transparent\", all other non-alpha formats\n                // will return rgba when there is transparency.\n                if (format === \"name\" && this._a === 0) {\n                    return this.toName();\n                }\n                return this.toRgbString();\n            }\n            if (format === \"rgb\") {\n                formattedString = this.toRgbString();\n            }\n            if (format === \"prgb\") {\n                formattedString = this.toPercentageRgbString();\n            }\n            if (format === \"hex\" || format === \"hex6\") {\n                formattedString = this.toHexString();\n            }\n            if (format === \"hex3\") {\n                formattedString = this.toHexString(true);\n            }\n            if (format === \"hex4\") {\n                formattedString = this.toHex8String(true);\n            }\n            if (format === \"hex8\") {\n                formattedString = this.toHex8String();\n            }\n            if (format === \"name\") {\n                formattedString = this.toName();\n            }\n            if (format === \"hsl\") {\n                formattedString = this.toHslString();\n            }\n            if (format === \"hsv\") {\n                formattedString = this.toHsvString();\n            }\n\n            return formattedString || this.toHexString();\n        },\n        clone: function() {\n            return tinycolor(this.toString());\n        },\n\n        _applyModification: function(fn, args) {\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\n            this._r = color._r;\n            this._g = color._g;\n            this._b = color._b;\n            this.setAlpha(color._a);\n            return this;\n        },\n        lighten: function() {\n            return this._applyModification(lighten, arguments);\n        },\n        brighten: function() {\n            return this._applyModification(brighten, arguments);\n        },\n        darken: function() {\n            return this._applyModification(darken, arguments);\n        },\n        desaturate: function() {\n            return this._applyModification(desaturate, arguments);\n        },\n        saturate: function() {\n            return this._applyModification(saturate, arguments);\n        },\n        greyscale: function() {\n            return this._applyModification(greyscale, arguments);\n        },\n        spin: function() {\n            return this._applyModification(spin, arguments);\n        },\n\n        _applyCombination: function(fn, args) {\n            return fn.apply(null, [this].concat([].slice.call(args)));\n        },\n        analogous: function() {\n            return this._applyCombination(analogous, arguments);\n        },\n        complement: function() {\n            return this._applyCombination(complement, arguments);\n        },\n        monochromatic: function() {\n            return this._applyCombination(monochromatic, arguments);\n        },\n        splitcomplement: function() {\n            return this._applyCombination(splitcomplement, arguments);\n        },\n        triad: function() {\n            return this._applyCombination(triad, arguments);\n        },\n        tetrad: function() {\n            return this._applyCombination(tetrad, arguments);\n        }\n    };\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\n    tinycolor.fromRatio = function(color, opts) {\n        if (typeof color == \"object\") {\n            var newColor = {};\n            for (var i in color) {\n                if (color.hasOwnProperty(i)) {\n                    if (i === \"a\") {\n                        newColor[i] = color[i];\n                    }\n                    else {\n                        newColor[i] = convertToPercentage(color[i]);\n                    }\n                }\n            }\n            color = newColor;\n        }\n\n        return tinycolor(color, opts);\n    };\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\n    function inputToRGB(color) {\n\n        var rgb = { r: 0, g: 0, b: 0 };\n        var a = 1;\n        var s = null;\n        var v = null;\n        var l = null;\n        var ok = false;\n        var format = false;\n\n        if (typeof color == \"string\") {\n            color = stringInputToObject(color);\n        }\n\n        if (typeof color == \"object\") {\n            if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n                rgb = rgbToRgb(color.r, color.g, color.b);\n                ok = true;\n                format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n            }\n            else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n                s = convertToPercentage(color.s);\n                v = convertToPercentage(color.v);\n                rgb = hsvToRgb(color.h, s, v);\n                ok = true;\n                format = \"hsv\";\n            }\n            else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n                s = convertToPercentage(color.s);\n                l = convertToPercentage(color.l);\n                rgb = hslToRgb(color.h, s, l);\n                ok = true;\n                format = \"hsl\";\n            }\n\n            if (color.hasOwnProperty(\"a\")) {\n                a = color.a;\n            }\n        }\n\n        a = boundAlpha(a);\n\n        return {\n            ok: ok,\n            format: color.format || format,\n            r: mathMin(255, mathMax(rgb.r, 0)),\n            g: mathMin(255, mathMax(rgb.g, 0)),\n            b: mathMin(255, mathMax(rgb.b, 0)),\n            a: a\n        };\n    }\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\n    function rgbToRgb(r, g, b){\n        return {\n            r: bound01(r, 255) * 255,\n            g: bound01(g, 255) * 255,\n            b: bound01(b, 255) * 255\n        };\n    }\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\n    function rgbToHsl(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if(max == min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n\n            h /= 6;\n        }\n\n        return { h: h, s: s, l: l };\n    }\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n    function hslToRgb(h, s, l) {\n        var r, g, b;\n\n        h = bound01(h, 360);\n        s = bound01(s, 100);\n        l = bound01(l, 100);\n\n        function hue2rgb(p, q, t) {\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        if(s === 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\n    function rgbToHsv(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, v = max;\n\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n\n        if(max == min) {\n            h = 0; // achromatic\n        }\n        else {\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n        return { h: h, s: s, v: v };\n    }\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n    function hsvToRgb(h, s, v) {\n\n        h = bound01(h, 360) * 6;\n        s = bound01(s, 100);\n        v = bound01(v, 100);\n\n        var i = Math.floor(h),\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - f * s),\n            t = v * (1 - (1 - f) * s),\n            mod = i % 6,\n            r = [v, q, p, p, t, v][mod],\n            g = [t, v, v, q, p, p][mod],\n            b = [p, p, t, v, v, q][mod];\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\n    function rgbToHex(r, g, b, allow3Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        // Return a 3 character hex if possible\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n        }\n\n        return hex.join(\"\");\n    }\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\n    function rgbaToHex(r, g, b, a, allow4Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16)),\n            pad2(convertDecimalToHex(a))\n        ];\n\n        // Return a 4 character hex if possible\n        if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n        }\n\n        return hex.join(\"\");\n    }\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\n    function rgbaToArgbHex(r, g, b, a) {\n\n        var hex = [\n            pad2(convertDecimalToHex(a)),\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        return hex.join(\"\");\n    }\n\n// `equals`\n// Can be called with any tinycolor input\n    tinycolor.equals = function (color1, color2) {\n        if (!color1 || !color2) { return false; }\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n    };\n\n    tinycolor.random = function() {\n        return tinycolor.fromRatio({\n            r: mathRandom(),\n            g: mathRandom(),\n            b: mathRandom()\n        });\n    };\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n    function desaturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function saturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function greyscale(color) {\n        return tinycolor(color).desaturate(100);\n    }\n\n    function lighten (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    function brighten(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var rgb = tinycolor(color).toRgb();\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n        return tinycolor(rgb);\n    }\n\n    function darken (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\n    function spin(color, amount) {\n        var hsl = tinycolor(color).toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return tinycolor(hsl);\n    }\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n    function complement(color) {\n        var hsl = tinycolor(color).toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return tinycolor(hsl);\n    }\n\n    function triad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function tetrad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function splitcomplement(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n        ];\n    }\n\n    function analogous(color, results, slices) {\n        results = results || 6;\n        slices = slices || 30;\n\n        var hsl = tinycolor(color).toHsl();\n        var part = 360 / slices;\n        var ret = [tinycolor(color)];\n\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(tinycolor(hsl));\n        }\n        return ret;\n    }\n\n    function monochromatic(color, results) {\n        results = results || 6;\n        var hsv = tinycolor(color).toHsv();\n        var h = hsv.h, s = hsv.s, v = hsv.v;\n        var ret = [];\n        var modification = 1 / results;\n\n        while (results--) {\n            ret.push(tinycolor({ h: h, s: s, v: v}));\n            v = (v + modification) % 1;\n        }\n\n        return ret;\n    }\n\n// Utility Functions\n// ---------------------\n\n    tinycolor.mix = function(color1, color2, amount) {\n        amount = (amount === 0) ? 0 : (amount || 50);\n\n        var rgb1 = tinycolor(color1).toRgb();\n        var rgb2 = tinycolor(color2).toRgb();\n\n        var p = amount / 100;\n\n        var rgba = {\n            r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n            g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n            b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n            a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n        };\n\n        return tinycolor(rgba);\n    };\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\n    tinycolor.readability = function(color1, color2) {\n        var c1 = tinycolor(color1);\n        var c2 = tinycolor(color2);\n        return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n    };\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\n    tinycolor.isReadable = function(color1, color2, wcag2) {\n        var readability = tinycolor.readability(color1, color2);\n        var wcag2Parms, out;\n\n        out = false;\n\n        wcag2Parms = validateWCAG2Parms(wcag2);\n        switch (wcag2Parms.level + wcag2Parms.size) {\n            case \"AAsmall\":\n            case \"AAAlarge\":\n                out = readability >= 4.5;\n                break;\n            case \"AAlarge\":\n                out = readability >= 3;\n                break;\n            case \"AAAsmall\":\n                out = readability >= 7;\n                break;\n        }\n        return out;\n\n    };\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\n    tinycolor.mostReadable = function(baseColor, colorList, args) {\n        var bestColor = null;\n        var bestScore = 0;\n        var readability;\n        var includeFallbackColors, level, size ;\n        args = args || {};\n        includeFallbackColors = args.includeFallbackColors ;\n        level = args.level;\n        size = args.size;\n\n        for (var i= 0; i < colorList.length ; i++) {\n            readability = tinycolor.readability(baseColor, colorList[i]);\n            if (readability > bestScore) {\n                bestScore = readability;\n                bestColor = tinycolor(colorList[i]);\n            }\n        }\n\n        if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n            return bestColor;\n        }\n        else {\n            args.includeFallbackColors=false;\n            return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n        }\n    };\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\n    var names = tinycolor.names = {\n        aliceblue: \"f0f8ff\",\n        antiquewhite: \"faebd7\",\n        aqua: \"0ff\",\n        aquamarine: \"7fffd4\",\n        azure: \"f0ffff\",\n        beige: \"f5f5dc\",\n        bisque: \"ffe4c4\",\n        black: \"000\",\n        blanchedalmond: \"ffebcd\",\n        blue: \"00f\",\n        blueviolet: \"8a2be2\",\n        brown: \"a52a2a\",\n        burlywood: \"deb887\",\n        burntsienna: \"ea7e5d\",\n        cadetblue: \"5f9ea0\",\n        chartreuse: \"7fff00\",\n        chocolate: \"d2691e\",\n        coral: \"ff7f50\",\n        cornflowerblue: \"6495ed\",\n        cornsilk: \"fff8dc\",\n        crimson: \"dc143c\",\n        cyan: \"0ff\",\n        darkblue: \"00008b\",\n        darkcyan: \"008b8b\",\n        darkgoldenrod: \"b8860b\",\n        darkgray: \"a9a9a9\",\n        darkgreen: \"006400\",\n        darkgrey: \"a9a9a9\",\n        darkkhaki: \"bdb76b\",\n        darkmagenta: \"8b008b\",\n        darkolivegreen: \"556b2f\",\n        darkorange: \"ff8c00\",\n        darkorchid: \"9932cc\",\n        darkred: \"8b0000\",\n        darksalmon: \"e9967a\",\n        darkseagreen: \"8fbc8f\",\n        darkslateblue: \"483d8b\",\n        darkslategray: \"2f4f4f\",\n        darkslategrey: \"2f4f4f\",\n        darkturquoise: \"00ced1\",\n        darkviolet: \"9400d3\",\n        deeppink: \"ff1493\",\n        deepskyblue: \"00bfff\",\n        dimgray: \"696969\",\n        dimgrey: \"696969\",\n        dodgerblue: \"1e90ff\",\n        firebrick: \"b22222\",\n        floralwhite: \"fffaf0\",\n        forestgreen: \"228b22\",\n        fuchsia: \"f0f\",\n        gainsboro: \"dcdcdc\",\n        ghostwhite: \"f8f8ff\",\n        gold: \"ffd700\",\n        goldenrod: \"daa520\",\n        gray: \"808080\",\n        green: \"008000\",\n        greenyellow: \"adff2f\",\n        grey: \"808080\",\n        honeydew: \"f0fff0\",\n        hotpink: \"ff69b4\",\n        indianred: \"cd5c5c\",\n        indigo: \"4b0082\",\n        ivory: \"fffff0\",\n        khaki: \"f0e68c\",\n        lavender: \"e6e6fa\",\n        lavenderblush: \"fff0f5\",\n        lawngreen: \"7cfc00\",\n        lemonchiffon: \"fffacd\",\n        lightblue: \"add8e6\",\n        lightcoral: \"f08080\",\n        lightcyan: \"e0ffff\",\n        lightgoldenrodyellow: \"fafad2\",\n        lightgray: \"d3d3d3\",\n        lightgreen: \"90ee90\",\n        lightgrey: \"d3d3d3\",\n        lightpink: \"ffb6c1\",\n        lightsalmon: \"ffa07a\",\n        lightseagreen: \"20b2aa\",\n        lightskyblue: \"87cefa\",\n        lightslategray: \"789\",\n        lightslategrey: \"789\",\n        lightsteelblue: \"b0c4de\",\n        lightyellow: \"ffffe0\",\n        lime: \"0f0\",\n        limegreen: \"32cd32\",\n        linen: \"faf0e6\",\n        magenta: \"f0f\",\n        maroon: \"800000\",\n        mediumaquamarine: \"66cdaa\",\n        mediumblue: \"0000cd\",\n        mediumorchid: \"ba55d3\",\n        mediumpurple: \"9370db\",\n        mediumseagreen: \"3cb371\",\n        mediumslateblue: \"7b68ee\",\n        mediumspringgreen: \"00fa9a\",\n        mediumturquoise: \"48d1cc\",\n        mediumvioletred: \"c71585\",\n        midnightblue: \"191970\",\n        mintcream: \"f5fffa\",\n        mistyrose: \"ffe4e1\",\n        moccasin: \"ffe4b5\",\n        navajowhite: \"ffdead\",\n        navy: \"000080\",\n        oldlace: \"fdf5e6\",\n        olive: \"808000\",\n        olivedrab: \"6b8e23\",\n        orange: \"ffa500\",\n        orangered: \"ff4500\",\n        orchid: \"da70d6\",\n        palegoldenrod: \"eee8aa\",\n        palegreen: \"98fb98\",\n        paleturquoise: \"afeeee\",\n        palevioletred: \"db7093\",\n        papayawhip: \"ffefd5\",\n        peachpuff: \"ffdab9\",\n        peru: \"cd853f\",\n        pink: \"ffc0cb\",\n        plum: \"dda0dd\",\n        powderblue: \"b0e0e6\",\n        purple: \"800080\",\n        rebeccapurple: \"663399\",\n        red: \"f00\",\n        rosybrown: \"bc8f8f\",\n        royalblue: \"4169e1\",\n        saddlebrown: \"8b4513\",\n        salmon: \"fa8072\",\n        sandybrown: \"f4a460\",\n        seagreen: \"2e8b57\",\n        seashell: \"fff5ee\",\n        sienna: \"a0522d\",\n        silver: \"c0c0c0\",\n        skyblue: \"87ceeb\",\n        slateblue: \"6a5acd\",\n        slategray: \"708090\",\n        slategrey: \"708090\",\n        snow: \"fffafa\",\n        springgreen: \"00ff7f\",\n        steelblue: \"4682b4\",\n        tan: \"d2b48c\",\n        teal: \"008080\",\n        thistle: \"d8bfd8\",\n        tomato: \"ff6347\",\n        turquoise: \"40e0d0\",\n        violet: \"ee82ee\",\n        wheat: \"f5deb3\",\n        white: \"fff\",\n        whitesmoke: \"f5f5f5\",\n        yellow: \"ff0\",\n        yellowgreen: \"9acd32\"\n    };\n\n// Make it easy to access colors via `hexNames[hex]`\n    var hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\n    function flip(o) {\n        var flipped = { };\n        for (var i in o) {\n            if (o.hasOwnProperty(i)) {\n                flipped[o[i]] = i;\n            }\n        }\n        return flipped;\n    }\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\n    function boundAlpha(a) {\n        a = parseFloat(a);\n\n        if (isNaN(a) || a < 0 || a > 1) {\n            a = 1;\n        }\n\n        return a;\n    }\n\n// Take input from [0, n] and return it as [0, 1]\n    function bound01(n, max) {\n        if (isOnePointZero(n)) { n = \"100%\"; }\n\n        var processPercent = isPercentage(n);\n        n = mathMin(max, mathMax(0, parseFloat(n)));\n\n        // Automatically convert percentage into number\n        if (processPercent) {\n            n = parseInt(n * max, 10) / 100;\n        }\n\n        // Handle floating point rounding errors\n        if ((Math.abs(n - max) < 0.000001)) {\n            return 1;\n        }\n\n        // Convert into [0, 1] range if it isn't already\n        return (n % max) / parseFloat(max);\n    }\n\n// Force a number between 0 and 1\n    function clamp01(val) {\n        return mathMin(1, mathMax(0, val));\n    }\n\n// Parse a base-16 hex value into a base-10 integer\n    function parseIntFromHex(val) {\n        return parseInt(val, 16);\n    }\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n    function isOnePointZero(n) {\n        return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n    }\n\n// Check to see if string passed in is a percentage\n    function isPercentage(n) {\n        return typeof n === \"string\" && n.indexOf('%') != -1;\n    }\n\n// Force a hex value to have 2 characters\n    function pad2(c) {\n        return c.length == 1 ? '0' + c : '' + c;\n    }\n\n// Replace a decimal with it's percentage value\n    function convertToPercentage(n) {\n        if (n <= 1) {\n            n = (n * 100) + \"%\";\n        }\n\n        return n;\n    }\n\n// Converts a decimal to a hex value\n    function convertDecimalToHex(d) {\n        return Math.round(parseFloat(d) * 255).toString(16);\n    }\n// Converts a hex value to a decimal\n    function convertHexToDecimal(h) {\n        return (parseIntFromHex(h) / 255);\n    }\n\n    var matchers = (function() {\n\n        // <http://www.w3.org/TR/css3-values/#integers>\n        var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n        // <http://www.w3.org/TR/css3-values/#number-value>\n        var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n        // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n        var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n        // Actual matching.\n        // Parentheses and commas are optional, but not required.\n        // Whitespace can take the place of commas or opening paren\n        var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n        var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n        return {\n            CSS_UNIT: new RegExp(CSS_UNIT),\n            rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n            rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n            hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n            hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n            hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n            hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n            hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n            hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n        };\n    })();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\n    function isValidCSSUnit(color) {\n        return !!matchers.CSS_UNIT.exec(color);\n    }\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n    function stringInputToObject(color) {\n\n        color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n        var named = false;\n        if (names[color]) {\n            color = names[color];\n            named = true;\n        }\n        else if (color == 'transparent') {\n            return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n        }\n\n        // Try to match string input using regular expressions.\n        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n        // Just return an object and let the conversion functions handle that.\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\n        var match;\n        if ((match = matchers.rgb.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3] };\n        }\n        if ((match = matchers.rgba.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsl.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3] };\n        }\n        if ((match = matchers.hsla.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsv.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3] };\n        }\n        if ((match = matchers.hsva.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3], a: match[4] };\n        }\n        if ((match = matchers.hex8.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                a: convertHexToDecimal(match[4]),\n                format: named ? \"name\" : \"hex8\"\n            };\n        }\n        if ((match = matchers.hex6.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n        if ((match = matchers.hex4.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + '' + match[1]),\n                g: parseIntFromHex(match[2] + '' + match[2]),\n                b: parseIntFromHex(match[3] + '' + match[3]),\n                a: convertHexToDecimal(match[4] + '' + match[4]),\n                format: named ? \"name\" : \"hex8\"\n            };\n        }\n        if ((match = matchers.hex3.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + '' + match[1]),\n                g: parseIntFromHex(match[2] + '' + match[2]),\n                b: parseIntFromHex(match[3] + '' + match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n\n        return false;\n    }\n\n    function validateWCAG2Parms(parms) {\n        // return valid WCAG2 parms for isReadable.\n        // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n        var level, size;\n        parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n        level = (parms.level || \"AA\").toUpperCase();\n        size = (parms.size || \"small\").toLowerCase();\n        if (level !== \"AA\" && level !== \"AAA\") {\n            level = \"AA\";\n        }\n        if (size !== \"small\" && size !== \"large\") {\n            size = \"small\";\n        }\n        return {\"level\":level, \"size\":size};\n    }\n\n// Node: Export function\n    if (typeof module !== \"undefined\" && module.exports) {\n        module.exports = tinycolor;\n    }\n// AMD/requirejs: Define the module\n    else if (typeof define === 'function' && define.amd) {\n        define(function () {return tinycolor;});\n    }\n// Browser: Expose to window\n    else {\n        window.tinycolor = tinycolor;\n    }\n\n})(Math);\n\n\n// WEBPACK FOOTER //\n// ./src/tinycolor.js"],"sourceRoot":""}